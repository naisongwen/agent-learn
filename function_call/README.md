# Agent-Learn ğŸ¤–

ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„æ™ºèƒ½ä»£ç†å­¦ä¹ æ¡†æ¶ï¼Œä¸“æ³¨äºå‡½æ•°è°ƒç”¨å’Œå·¥å…·é›†æˆèƒ½åŠ›ã€‚

## ğŸŒŸ é¡¹ç›®ç‰¹ç‚¹

- **æ¨¡å—åŒ–è®¾è®¡**: æ¸…æ™°çš„æ¶æ„åˆ†ç¦»ï¼Œæ˜“äºæ‰©å±•æ–°å·¥å…·
- **å‡½æ•°è°ƒç”¨æ”¯æŒ**: å®Œæ•´çš„OpenAIå‡½æ•°è°ƒç”¨æœºåˆ¶å®ç°
- **å·¥å…·ç”Ÿæ€ç³»ç»Ÿ**: å†…ç½®å¤šç§å®ç”¨å·¥å…·ï¼ˆå¤©æ°”ã€é‚®ä»¶ã€è®¡ç®—å™¨ã€æ—¶é—´ï¼‰
- **å®‰å…¨å¯é **: å‚æ•°éªŒè¯ã€é€Ÿç‡é™åˆ¶ã€é”™è¯¯å¤„ç†æœºåˆ¶
- **é…ç½®é©±åŠ¨**: YAMLé…ç½®æ–‡ä»¶ç®¡ç†å·¥å…·å¯ç”¨çŠ¶æ€
- **æ—¥å¿—ç›‘æ§**: å®Œå–„çš„æ—¥å¿—è®°å½•å’Œè°ƒè¯•æ”¯æŒ

## ğŸ“ é¡¹ç›®ç»“æ„

```
agent-learn/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ tools_config.yaml          # å·¥å…·é…ç½®æ–‡ä»¶
â”œâ”€â”€ function_call/
â”‚   â””â”€â”€ main.py                    # å‡½æ•°è°ƒç”¨ä¸»ç¨‹åº
    |â€”â€” example.py                    # ç®€åŒ–ç¤ºä¾‹æ¼”ç¤º
â”œâ”€â”€ llm/
â”‚   â”œâ”€â”€ __init__.py               # LLMæ¨¡å—åˆå§‹åŒ–
â”‚   â”œâ”€â”€ client.py                 # LLMå®¢æˆ·ç«¯å°è£…
â”‚   â””â”€â”€ prompts.py                # æç¤ºè¯æ¨¡æ¿
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ __init__.py               # å·¥å…·æ¨¡å—åˆå§‹åŒ–
â”‚   â”œâ”€â”€ calculator.py             # è®¡ç®—å™¨å·¥å…·
â”‚   â”œâ”€â”€ email.py                  # é‚®ä»¶å‘é€å·¥å…·
â”‚   â”œâ”€â”€ get_time.py               # æ—¶é—´æŸ¥è¯¢å·¥å…·
â”‚   â””â”€â”€ weather.py                # å¤©æ°”æŸ¥è¯¢å·¥å…·
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ __init__.py               # å·¥å…·æ¨¡å—åˆå§‹åŒ–
â”‚   â”œâ”€â”€ logger.py                 # æ—¥å¿—é…ç½®
â”‚   â”œâ”€â”€ rate_limiter.py           # é€Ÿç‡é™åˆ¶å™¨
â”‚   â””â”€â”€ validators.py             # å‚æ•°éªŒè¯å™¨
â”œâ”€â”€ test_project.py               # é¡¹ç›®å¥åº·æ£€æŸ¥
â”œâ”€â”€ .env                          # ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ requirements.txt              # ä¾èµ–åŒ…åˆ—è¡¨
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/naisongwen/agent-learn
cd agent-learn

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate   # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```env
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_BASE_URL=https://api.openai.com/v1
MAX_RETRIES=3
RATE_LIMIT_PER_MINUTE=60
```

### 3. è¿è¡Œé¡¹ç›®

```bash
python -m function_call.main
```

## ğŸ”§ æ ¸å¿ƒç»„ä»¶

### LLMå®¢æˆ·ç«¯ (`llm/client.py`)
- å°è£…OpenAI APIè°ƒç”¨
- æ”¯æŒå¤šè½®å·¥å…·è°ƒç”¨å¯¹è¯
- å†…ç½®é€Ÿç‡é™åˆ¶å’Œé”™è¯¯å¤„ç†

### å·¥å…·ç³»ç»Ÿ (`tools/`)
- **WeatherTool**: å¤©æ°”æŸ¥è¯¢ï¼ˆæ”¯æŒå¤šä¸ªåŸå¸‚ï¼‰
- **EmailTool**: é‚®ä»¶å‘é€ï¼ˆå«å®‰å…¨éªŒè¯ï¼‰
- **CalculatorTool**: æ•°å­¦è®¡ç®—ï¼ˆASTå®‰å…¨è§£æï¼‰
- **TimeTool**: æ—¶é—´æŸ¥è¯¢ï¼ˆå¤šæ—¶åŒºæ”¯æŒï¼‰

### å·¥å…·ç®¡ç† (`tools/__init__.py`)
- åŠ¨æ€å·¥å…·æ³¨å†Œ
- å·¥å…·å¯ç”¨çŠ¶æ€ç®¡ç†
- OpenAIæ ¼å¼è½¬æ¢

### é€šç”¨å·¥å…· (`utils/`)
- **Logger**: ç»“æ„åŒ–æ—¥å¿—è®°å½•
- **RateLimiter**: APIè°ƒç”¨é¢‘ç‡æ§åˆ¶
- **Validators**: å‚æ•°å®‰å…¨éªŒè¯

## ğŸ› ï¸ ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€å¯¹è¯

```python
from llm.client import LLMClient

client = LLMClient()
response = client.chat_simple("ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹è‡ªå·±")
print(response)
```

### å·¥å…·è°ƒç”¨å¯¹è¯

```python
from llm.client import LLMClient

client = LLMClient()
messages = [{"role": "user", "content": "åŒ—äº¬ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ"}]
result = client.chat(messages)

if result["success"]:
    print(f"AIå›ç­”ï¼š{result['content']}")
```

### è‡ªå®šä¹‰å·¥å…·è°ƒç”¨

```python
# åœ¨ tools/__init__.py ä¸­æ³¨å†Œæ–°å·¥å…·
from my_custom_tool import MyCustomTool

TOOL_REGISTRY["my_tool"] = MyCustomTool()
```

## âš™ï¸ é…ç½®è¯´æ˜

### å·¥å…·é…ç½® (`config/tools_config.yaml`)

```yaml
tools:
  get_weather:
    enabled: true
    description: "å¤©æ°”æŸ¥è¯¢å·¥å…·æè¿°"
    rate_limit: 100
    timeout: 10
    
settings:
  max_conversation_history: 20
  max_tool_call_retries: 3
  default_model: "gpt-4-turbo"
```

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- **å‚æ•°éªŒè¯**: æ‰€æœ‰å·¥å…·è°ƒç”¨éƒ½ç»è¿‡ä¸¥æ ¼å‚æ•°éªŒè¯
- **é€Ÿç‡é™åˆ¶**: é˜²æ­¢APIæ»¥ç”¨å’Œè¿‡è½½
- **å†…å®¹è¿‡æ»¤**: é‚®ä»¶å·¥å…·åŒ…å«æ•æ„Ÿè¯æ£€æµ‹
- **è¡¨è¾¾å¼å®‰å…¨**: è®¡ç®—å™¨ä½¿ç”¨ASTè§£æç¡®ä¿å®‰å…¨

## ğŸ“Š æ€§èƒ½ç›‘æ§

- è¯¦ç»†çš„æ—¥å¿—è®°å½•
- å·¥å…·è°ƒç”¨ç»Ÿè®¡
- é”™è¯¯è¿½è¸ªå’ŒæŠ¥å‘Š
- APIè°ƒç”¨é¢‘ç‡ç›‘æ§

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. å‘èµ· Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ·»åŠ æ–°çš„å·¥å…·ï¼Ÿ
A: åœ¨ `tools/` ç›®å½•ä¸‹åˆ›å»ºæ–°å·¥å…·ç±»ï¼Œå®ç° `to_openai_format()` å’Œ `execute()` æ–¹æ³•ï¼Œç„¶ååœ¨ `tools/__init__.py` ä¸­æ³¨å†Œã€‚

### Q: APIè°ƒç”¨å¤±è´¥æ€ä¹ˆåŠï¼Ÿ
A: æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„APIå¯†é’¥æ˜¯å¦æ­£ç¡®ï¼Œç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸ã€‚

### Q: å¦‚ä½•è°ƒæ•´å·¥å…·è°ƒç”¨é¢‘ç‡ï¼Ÿ
A: ä¿®æ”¹ `.env` æ–‡ä»¶ä¸­çš„ `RATE_LIMIT_PER_MINUTE` å‚æ•°ã€‚

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ Issue æˆ–è”ç³»é¡¹ç›®ç»´æŠ¤è€…ã€‚

---
*Happy Coding! ğŸš€*